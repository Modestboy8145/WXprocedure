(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/remove/video"],{"3e97":function(o,e,t){"use strict";t.r(e);var n=t("6fec"),i=t.n(n);for(var a in n)"default"!==a&&function(o){t.d(e,o,(function(){return n[o]}))}(a);e["default"]=i.a},4919:function(o,e,t){},"6fec":function(o,e,t){"use strict";(function(o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t("5808"),i={data:function(){return{isOpenAd:!1,videoAd_id:"",videoUrl:"",audioUrl:"",coverUrl:"",copywriting:""}},onLoad:function(){var e=this;o.getStorage({key:"show_setting",success:function(o){e.isOpenAd=o.data["seIsOpenAd"],e.videoAd_id=o.data["seAdVideoId"]}}),o.getStorage({key:"analysisData",success:function(o){e.videoUrl=o.data["video"],e.coverUrl=o.data["cover"],e.copywriting=o.data["title"]}})},methods:{downloadImage:function(e){var t=this,i=o.downloadFile({url:e.replace("http://","https://"),success:function(e){200===e.statusCode&&(console.log("下载成功"),o.saveImageToPhotosAlbum({filePath:e.tempFilePath,success:function(){o.hideLoading(),o.showToast({icon:"success",title:"下载成功！"})},fail:function(e){o.hideLoading(),"saveImageToPhotosAlbum:fail:auth denied"!==e.errMsg&&"saveImageToPhotosAlbum:fail auth deny"!==e.errMsg&&"saveImageToPhotosAlbum:fail authorize no response"!==e.errMsg||o.showModal({title:"提示",content:"需要您授权保存相册",showCancel:!1,success:function(e){o.openSetting({success:function(e){console.log("settingdata",e),e.authSetting["scope.writePhotosAlbum"]?o.showModal({title:"提示",content:"获取权限成功,再次点击图片即可保存",showCancel:!1}):o.showModal({title:"提示",content:"获取权限失败，将无法保存到相册哦~",showCancel:!1})},fail:function(o){console.log("failData",o)},complete:function(o){console.log("finishData",o)}})}})}}))},fail:function(i){o.hideLoading(),i.errMsg.includes("fail url not in domain list")?(n._get("/api/download/addNewDownloadUrl",{url:e.replace(/^https?:\/\/(.*?)(:\d+)?\/.*$/,"$1")},(function(o){})),o.showModal({title:"提示",content:"因为微信限制，下载失败，可以通过浏览器链接下载，是否复制链接自行去浏览器下载？",success:function(o){o.confirm&&t.copyText(e)}})):o.showModal({title:"提示",content:"下载失败了",showCancel:!1})}});i.onProgressUpdate((function(e){o.showLoading({title:"下载进度"+e.progress+"%",mask:!0})}))},downloadVideo:function(e){var t=this,i=o.downloadFile({url:e.replace("http://","https://"),success:function(e){200===e.statusCode&&(console.log("下载成功"),o.saveVideoToPhotosAlbum({filePath:e.tempFilePath,success:function(){o.hideLoading(),o.showToast({icon:"success",title:"下载成功！"})},fail:function(e){o.hideLoading(),"saveImageToPhotosAlbum:fail:auth denied"!==e.errMsg&&"saveImageToPhotosAlbum:fail auth deny"!==e.errMsg&&"saveImageToPhotosAlbum:fail authorize no response"!==e.errMsg||o.showModal({title:"提示",content:"需要您授权保存相册",showCancel:!1,success:function(e){o.openSetting({success:function(e){console.log("settingdata",e),e.authSetting["scope.writePhotosAlbum"]?o.showModal({title:"提示",content:"获取权限成功,再次点击图片即可保存",showCancel:!1}):o.showModal({title:"提示",content:"获取权限失败，将无法保存到相册哦~",showCancel:!1})},fail:function(o){console.log("failData",o)},complete:function(o){console.log("finishData",o)}})}})}}))},fail:function(i){o.hideLoading(),i.errMsg.includes("fail url not in domain list")?(n._get("/api/download/addNewDownloadUrl",{url:e.replace(/^https?:\/\/(.*?)(:\d+)?\/.*$/,"$1")},(function(o){})),o.showModal({title:"提示",content:"因为微信限制，下载失败，可以通过浏览器链接下载，是否复制链接自行去浏览器下载？",success:function(o){o.confirm&&t.copyText(e)}})):o.showModal({title:"提示",content:"下载失败了",showCancel:!1})}});i.onProgressUpdate((function(e){o.showLoading({title:"下载进度"+e.progress+"%",mask:!0})}))},videoErrorCallback:function(e){o.showModal({content:e.mp["@warning"],showCancel:!1})},showTips:function(){o.showModal({showCancel:!1,content:"点击“复制链接”，到浏览器打开即可下载（推荐使用QQ浏览器打开）"})},copyText:function(e){o.setClipboardData({data:e,success:function(e){o.showToast({title:"复制成功"})},fail:function(){o.showToast({icon:"error",title:"复制失败了"})}})}}};e.default=i}).call(this,t("543d")["default"])},7846:function(o,e,t){"use strict";t.r(e);var n=t("edf1"),i=t("3e97");for(var a in i)"default"!==a&&function(o){t.d(e,o,(function(){return i[o]}))}(a);t("900e");var s,c=t("f0c5"),l=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);e["default"]=l.exports},"900e":function(o,e,t){"use strict";var n=t("4919"),i=t.n(n);i.a},c712:function(o,e,t){"use strict";(function(o){t("8785");n(t("66fd"));var e=n(t("7846"));function n(o){return o&&o.__esModule?o:{default:o}}wx.__webpack_require_UNI_MP_PLUGIN__=t,o(e.default)}).call(this,t("543d")["createPage"])},edf1:function(o,e,t){"use strict";t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return a})),t.d(e,"a",(function(){return n}));var n={"u-Text":function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u--text/u--text")]).then(t.bind(null,"31c7"))},uButton:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-button/u-button")]).then(t.bind(null,"4608"))},"u-Image":function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u--image/u--image")]).then(t.bind(null,"75c0"))},"u-Textarea":function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u--textarea/u--textarea")]).then(t.bind(null,"887a"))}},i=function(){var o=this,e=o.$createElement;o._self._c},a=[]}},[["c712","common/runtime","common/vendor"]]]);